<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore"
    name="klang"
    nsURI="platform:/plugin/com.kaurel.klang.model/model/klang.ecore"
    nsPrefix="klang">
  <eClassifiers
      xsi:type="ecore:EClass"
      name="SceneActor">
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="program"
        eType="#//Program"
        eOpposite="#//Program/sceneActor"/>
    <eGenericSuperTypes
        eClassifier="#//AbstractActor">
      <eTypeArguments
          eClassifier="#//SceneEntity"/>
    </eGenericSuperTypes>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="SpriteActor">
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="program"
        eType="#//Program"
        eOpposite="#//Program/spriteActors"/>
    <eGenericSuperTypes
        eClassifier="#//AbstractActor">
      <eTypeArguments
          eClassifier="#//SpriteEntity"/>
    </eGenericSuperTypes>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="EventHandler">
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="statements"
        upperBound="-1"
        eType="ecore:EClass klang-expr.ecore#//Statement"
        containment="true"/>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="actor"
        lowerBound="1"
        changeable="false"
        eOpposite="#//AbstractActor/eventHandlers">
      <eGenericType
          eClassifier="#//AbstractActor">
        <eTypeArguments/>
      </eGenericType>
    </eStructuralFeatures>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="referenceEvent"
        eType="#//Event"
        containment="true"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="VariableDeclaration">
    <eAnnotations
        source="http://www.eclipse.org/emf/2002/Ecore">
      <details
          key="constraints"
          value="scope&#xA;"/>
    </eAnnotations>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="expression"
        eType="ecore:EClass klang-expr.ecore#//Expression"
        containment="true"/>
    <eStructuralFeatures
        xsi:type="ecore:EAttribute"
        name="name"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="actor"
        eOpposite="#//AbstractActor/localVariables">
      <eGenericType
          eClassifier="#//AbstractActor">
        <eTypeArguments/>
      </eGenericType>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="AbstractActor"
      abstract="true">
    <eTypeParameters
        name="T">
      <eBounds
          eClassifier="#//Entity"/>
    </eTypeParameters>
    <eOperations
        name="isInScope"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eParameters
          name="variableName"
          lowerBound="1"
          eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eOperations
        name="getVariableDeclaration"
        eType="#//VariableDeclaration">
      <eParameters
          name="variableName"
          lowerBound="1"
          eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eOperations
        name="isInLocalScope"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eParameters
          name="variableName"
          lowerBound="1"
          eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eOperations
        name="isInParentScope"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eParameters
          name="variableName"
          lowerBound="1"
          eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eOperations
        name="getVariableDeclarations">
      <eGenericType
          eClassifier="#//Stream">
        <eTypeArguments
            eClassifier="#//VariableDeclaration"/>
      </eGenericType>
      <eParameters
          name="variableName"
          lowerBound="1"
          eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="eventHandlers"
        upperBound="-1"
        eType="#//EventHandler"
        containment="true"
        eOpposite="#//EventHandler/actor"/>
    <eStructuralFeatures
        xsi:type="ecore:EAttribute"
        name="name"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures
        xsi:type="ecore:EAttribute"
        name="subject"
        transient="true">
      <eGenericType
          eTypeParameter="#//AbstractActor/T"/>
    </eStructuralFeatures>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="localVariables"
        upperBound="-1"
        eType="#//VariableDeclaration"
        containment="true"
        eOpposite="#//VariableDeclaration/actor"/>
    <eStructuralFeatures
        xsi:type="ecore:EAttribute"
        name="subjectType"
        changeable="false"
        derived="true">
      <eGenericType
          eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EJavaClass">
        <eTypeArguments
            eTypeParameter="#//AbstractActor/T"/>
      </eGenericType>
    </eStructuralFeatures>
    <eGenericSuperTypes
        eClassifier="#//TreeNode">
      <eTypeArguments
          eClassifier="#//AbstractActor">
        <eTypeArguments/>
      </eTypeArguments>
    </eGenericSuperTypes>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="GameStartEvent"
      eSuperTypes="#//GlobalEvent"/>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="ClickEvent"
      eSuperTypes="#//ActorEvent"/>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="KeyPressEvent"
      eSuperTypes="#//GlobalEvent">
    <eStructuralFeatures
        xsi:type="ecore:EAttribute"
        name="key"
        eType="#//Keys"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="CollisionEvent"
      eSuperTypes="#//ActorEvent">
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="target"
        eType="#//SpriteActor"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="Program">
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="sceneActor"
        eType="#//SceneActor"
        containment="true"
        eOpposite="#//SceneActor/program"/>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="spriteActors"
        upperBound="-1"
        eType="#//SpriteActor"
        containment="true"
        eOpposite="#//SpriteActor/program"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="TreeNode"
      abstract="true"
      interface="true">
    <eTypeParameters
        name="T">
      <eBounds
          eClassifier="#//TreeNode">
        <eTypeArguments
            eTypeParameter="#//TreeNode/T"/>
      </eBounds>
    </eTypeParameters>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="children"
        upperBound="-1"
        changeable="false"
        volatile="true"
        transient="true"
        derived="true"
        resolveProxies="false">
      <eGenericType
          eTypeParameter="#//TreeNode/T"/>
    </eStructuralFeatures>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="parent"
        changeable="false"
        volatile="true"
        transient="true"
        derived="true"
        resolveProxies="false">
      <eGenericType
          eTypeParameter="#//TreeNode/T"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EEnum"
      name="Keys">
    <eLiterals
        name="A"/>
    <eLiterals
        name="B"
        value="1"/>
    <eLiterals
        name="C"
        value="2"/>
    <eLiterals
        name="D"
        value="3"/>
    <eLiterals
        name="E"
        value="4"/>
    <eLiterals
        name="F"
        value="5"/>
    <eLiterals
        name="G"
        value="6"/>
    <eLiterals
        name="H"
        value="7"/>
    <eLiterals
        name="I"
        value="8"/>
    <eLiterals
        name="J"
        value="9"/>
    <eLiterals
        name="K"
        value="10"/>
    <eLiterals
        name="L"
        value="11"/>
    <eLiterals
        name="M"
        value="12"/>
    <eLiterals
        name="N"
        value="13"/>
    <eLiterals
        name="O"
        value="14"/>
    <eLiterals
        name="P"
        value="15"/>
    <eLiterals
        name="Q"
        value="16"/>
    <eLiterals
        name="R"
        value="17"/>
    <eLiterals
        name="S"
        value="18"/>
    <eLiterals
        name="T"
        value="19"/>
    <eLiterals
        name="U"
        value="20"/>
    <eLiterals
        name="V"
        value="21"/>
    <eLiterals
        name="W"
        value="22"/>
    <eLiterals
        name="X"
        value="23"/>
    <eLiterals
        name="Y"
        value="24"/>
    <eLiterals
        name="Z"
        value="25"/>
    <eLiterals
        name="SPACE"
        value="26"/>
    <eLiterals
        name="ENTER"
        value="27"/>
    <eLiterals
        name="UP"
        value="28"/>
    <eLiterals
        name="DOWN"
        value="29"/>
    <eLiterals
        name="LEFT"
        value="30"/>
    <eLiterals
        name="RIGHT"
        value="31"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="MessageReceivedEvent"
      eSuperTypes="#//GlobalEvent">
    <eStructuralFeatures
        xsi:type="ecore:EAttribute"
        name="name"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="Event"
      abstract="true">
    <eOperations
        name="matchingEvent"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eTypeParameters
          name="T">
        <eBounds
            eClassifier="#//Event"/>
      </eTypeParameters>
      <eParameters
          name="other">
        <eGenericType
            eTypeParameter="#//Event/matchingEvent/T"/>
      </eParameters>
    </eOperations>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="GlobalEvent"
      abstract="true"
      eSuperTypes="#//Event"/>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="ActorEvent"
      abstract="true"
      eSuperTypes="#//Event"/>
  <eClassifiers
      xsi:type="ecore:EDataType"
      name="Entity"
      instanceClassName="klang.entities.Entity"/>
  <eClassifiers
      xsi:type="ecore:EDataType"
      name="SpriteEntity"
      instanceClassName="klang.entities.SpriteEntity"/>
  <eClassifiers
      xsi:type="ecore:EDataType"
      name="SceneEntity"
      instanceClassName="klang.entities.SceneEntity"/>
  <eClassifiers
      xsi:type="ecore:EDataType"
      name="Optional"
      instanceClassName="java.util.Optional">
    <eTypeParameters
        name="T"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EDataType"
      name="Stream"
      instanceClassName="java.util.stream.Stream">
    <eTypeParameters
        name="T"/>
  </eClassifiers>
</ecore:EPackage>
